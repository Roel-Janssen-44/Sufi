import Link from "next/link";
import {
  getStorefrontApiUrl,
  getPrivateTokenHeaders,
} from "@/lib/shopify-client";

import { TextField } from "@mui/material";

import Search from "@/components/Search";

// export const metadata = {
//   title: "Home page",
//   description: "Generated by create next app",
// };

export default async function SearchPage() {
  //   const fetchData = () => {
  //     return fetch("https://jsonplaceholder.typicode.com/users")
  //       .then((res) => res.json())

  //       .then((d) => setData(d));
  //   };

  //   useEffect(() => {
  //     fetchData();
  //   }, []);

  //   const [query, setQuery] = useState("");

  //   const search_parameters = Object.keys(Object.assign({}, ...data));

  //   function search(data) {
  //     return data.filter((data) =>
  //       search_parameters.some((parameter) =>
  //         data[parameter].toString().toLowerCase().includes(query)
  //       )
  //     );
  //   }

  //
  //
  //

  //   const collectionResponse = await fetch(getStorefrontApiUrl(), {
  //     body: JSON.stringify({
  //       query: getCollectionsQuery,
  //     }),
  //     headers: getPrivateTokenHeaders({ buyerIp: "..." }),
  //     method: "POST",
  //   });

  //   const collectionJson = await collectionResponse.json();

  //   if (collectionJson.errors) {
  //     console.error("GraphQL Errors:", collectionJson.errors);
  //   }

  return (
    <div className="pb-[3000px]">
      search
      <Search />
      {/* <input className="focus:border-gray-700 focus:border-2" />
      <TextField
        autoFocus
        value={"value"}
        variant="outlined"
        // onChange={(e) => onChange(e.target.value)}
      /> */}
      {/* <div className="container">
        <center>
          <h1>Search component in ReactJS</h1>
        </center>

        <div className="input-box">
          <input
            type="search"
            name="search-form"
            id="search-form"
            className="search-input"
            onChange={(e) => setQuery(e.target.value)}
            placeholder="Search user"
          />
        </div>

        <center>
          {search(data).map((dataObj) => {
            return (
              <div className="box">
                <div class="card">
                  <div class="category">@{dataObj.username} </div>

                  <div class="heading">
                    {dataObj.name}

                    <div class="author">{dataObj.email}</div>
                  </div>
                </div>
              </div>
            );
          })}
        </center>
      </div> */}
      {/* <Hero />
      <CollectionCollage collections={collectionJson.data} />
      <CollectionSlider collectionHandle="luxury-hand-made" />
      <TextWithImage />
      <CollectionSlider collectionHandle="exquisite-hand-made" />
      <Video /> */}
      {/* <CollectionSlider collectionHandle="elegant-hand-made" /> */}
    </div>
  );
}

// const getCollectionsQuery = `
//   query Collections {
//     collection1: collection(handle: "sieraden-met-vingerprint") {
//       ...collectionFields
//     }
//     collection2: collection(handle: "assieraden") {
//       ...collectionFields
//     }
//     collection3: collection(handle: "dieren") {
//       ...collectionFields
//     }
//   }

//   fragment collectionFields on Collection {
//     title
//     handle
//     descriptionHtml
//     products(first: 15) {
//       nodes {
//         title
//       }
//     }
//     image {
//       height
//       altText
//       width
//       url
//     }
//   }
// `;

// `
// {
//   collection1: collection(handle: "sieraden-met-gravure") {
//     ...collectionFields
//   }
//   collection2: collection(handle: "sieraden-met-as-haar") {
//     ...collectionFields
//   }
//   collection3: collection(handle: "herinnering-dieren") {
//     ...collectionFields
//   }
// }

// fragment collectionFields on Collection {
//   descriptionHtml
//   title
//   products(first: 15) {
//     nodes {
//       title
//     }
//   }
//   image {
//     height
//     altText
//     width
//     url
//   }
// }
// `;
